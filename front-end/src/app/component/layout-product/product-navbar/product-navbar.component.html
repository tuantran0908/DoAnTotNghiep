<div class="navbar navbar-expand-md navbar-light fixed-top">
  <div class="navbar-brand">
    <a href="#" class="d-inline-block">
      <img src="assets/images/logo.webp" alt="" />
    </a>
  </div>

  <div class="d-md-none">
    <button
      class="navbar-toggler"
      type="button"
      data-toggle="collapse"
      data-target="#navbar-mobile"
    >
      <i class="icon-tree5"></i>
    </button>
    <button class="navbar-toggler sidebar-mobile-main-toggle" type="button">
      <i class="icon-paragraph-justify3"></i>
    </button>
  </div>

  <div class="collapse navbar-collapse" id="navbar-mobile">
    <!-- <ul class="navbar-nav">
      <li class="nav-item">
        <a
          href="#"
          class="navbar-nav-link sidebar-control sidebar-main-toggle d-none d-md-block"
        >
          <i class="icon-paragraph-justify3"></i>
        </a>
      </li>
    </ul> -->
    <div class="nav-item dropdown ml-md-auto mr-md-3">
      <div class="input-group navbar-input__search flex-center">
        <span class="material-symbols-outlined"> search </span>
        <input
          type="text"
          class="form-control"
          id="search"
          placeholder="Bạn tìm gì hôm nay"
          data-toggle="dropdown"
          [(ngModel)]="searchController"
          #input
        />
        <div class="dropdown-menu dropdown-content wmin-md-350 dropdown-search">
          <div class="dropdown-content-body dropdown-scrollable">
            <ul class="media-list">
              <li *ngFor="let category of categories" class="media">
                <div class="media-body">
                  <a
                    [routerLink]="
                      category.url ? category.url : '/category/' + category.id
                    "
                    >Loại giáo trình : {{ category.name }}</a
                  >
                </div>
              </li>
              <li *ngFor="let product of products" class="media">
                <div class="media-body">
                  <a [routerLink]="'/product/' + product.id">
                    Giáo trình : {{ product.name }}</a
                  >
                </div>
              </li>
            </ul>
          </div>
        </div>
        <!-- <div class="input-group-append">
          <button class="btn search__btn" type="button">Button</button>
        </div> -->
      </div>
    </div>
    <ul class="navbar-nav ml-auto" *ngIf="user; else userOptionBtn">
      <!-- <li class="nav-item">
        <a href="#" class="navbar-nav-link"> Text link </a>
      </li> -->

      <li class="nav-item dropdown" style="display: flex; align-items: center">
        <a routerLink="/cart" class="navbar-nav-link">
          <span class="material-symbols-outlined" style="font-size: 28px">
            shopping_cart
          </span>
          <span
            *ngIf="countCartDetail"
            class="badge badge-pill bg-warning-400 ml-auto ml-md-0"
          >
            {{ countCartDetail }}</span
          >
          <!-- <i class="icon-bell2"></i>
          <span class="d-md-none ml-2">Notifications</span>
          <span class="badge badge-mark border-white ml-auto ml-md-0"></span> -->
        </a>
      </li>

      <li class="nav-item dropdown dropdown-user">
        <a
          href="#"
          class="navbar-nav-link d-flex align-items-center dropdown-toggle user-btn"
          data-toggle="dropdown"
        >
          <img
            src="data:image/png;base64,{{ user.avatar }}"
            class="rounded-circle mr-2"
            height="34"
            alt=""
          />
          <span>{{ user.fullname }}</span>
        </a>

        <div class="dropdown-menu dropdown-menu-right">
          <a [routerLink]="['/profile', user.id]" class="dropdown-item"
            ><i class="icon-cog5"></i> Thông tin cá nhân</a
          >
          <a [routerLink]="['/bills']" class="dropdown-item">
            <span class="material-icons-round"> shopping_cart </span>
            Đơn hàng của tôi
          </a>
          <a [routerLink]="['/cms']" class="dropdown-item">
            <span class="material-icons-round"> admin_panel_settings </span>
            Trang quản trị
          </a>
          <div class="dropdown-divider"></div>
          <a routerLink="login" class="dropdown-item"
            ><i class="icon-switch2"></i> Đăng xuất</a
          >
        </div>
      </li>
    </ul>
    <ng-template #userOptionBtn>
      <ul class="flex-row-gap12 ml-auto">
        <button class="btn btn-allow flex-center">Đăng nhập</button>
        <button class="btn btn-allow flex-center">Đăng ký</button>
      </ul>
    </ng-template>
  </div>
</div>
